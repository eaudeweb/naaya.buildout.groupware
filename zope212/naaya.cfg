[buildout]
develop =
    ${buildout:directory}/src/NaayaBundles-Forum
    ${buildout:directory}/src/Products.LDAPUserFolder
[zope-instance]
recipe = plone.recipe.zope2instance
effective-user = edw
user = admin:admin
http-address = 8083

products =
    ${buildout:directory}/products
eggs =
    edw-pycaptcha
    edw-cookiecrumbler
    edw-extfile
    Pillow
    zope.app.i18n
    zope.app.interface

    edw-cookiecrumbler
    edw.circaimport
    eea.rdfcalendar
    naayabundles_forum
    naaya.content-compat
    naaya.content.meeting
    naaya.content.talkback
    naaya.groupware
    naaya.gwapplications
    naaya.ldapdump
    naaya.observatory
    naaya.photoarchive
    naaya.updater
    Products.NaayaForum
    Products.LDAPUserFolder
    Products.ZSPARQLMethod
    Products.ZMIntrospection
    xlwt
zcml =
    edw.circaimport
    edw.circaimport-meta
    naayabundles_forum
    naaya.content.bfile
    naaya.content.meeting
    naaya.content.talkback
    naaya.groupware
    naaya.gwapplications
    naaya.ldapdump-meta
    naaya.observatory
_mail_queue_path = ${buildout:directory}/var/naaya-mail-queue
environment-vars =
    PYTHON_EGG_CACHE ${buildout:directory}/var/egg-cache
    NAAYA_MAIL_QUEUE ${:_mail_queue_path}
    EIONET_LDAP_EXPLORER http://www.eionet.europa.eu/eionet_ldap_explorer
zcml-additional =
  <configure xmlns:ld="http://ns.eaudeweb.ro/naaya.ldapdump"
             xmlns:circaimport="http://ns.eaudeweb.ro/edw.circaimport">
    <ld:reader path="${buildout:directory}/var/ldapdump/config.yaml" />
    <circaimport:root path="${buildout:directory}/var/circa_import"/>
  </configure>

[zeoclient]
zeo-client = on
zeo-address = ${zeoserver:zeo-address}
shared-blob = on
blob-storage = ${zeoserver:blob-storage}

[zeoserver]
recipe = plone.recipe.zeoserver
effective-user = edw
pack-days = 7
eggs =
    ZODB3
    zope.proxy
file-storage = ${buildout:directory}/var/zeoserver/filestorage/Data.fs
blob-storage = ${buildout:directory}/var/zeoserver/blobstorage
zeo-address = ${buildout:directory}/var/zeoserver/zeo.socket
socket-name = ${buildout:directory}/var/zeoserver/daemon.socket

[poundbuild]
recipe = plone.recipe.pound:build
url = http://www.apsis.ch/pound/Pound-2.6.tgz

[poundconfig]
recipe = plone.recipe.pound:config
socket = ${buildout:directory}/var/poundctl.socket
owner = edw
group = edw
timeout = 60
grace = 10
log_level = 0

[ldapdump]
recipe = zc.recipe.egg
eggs = naaya.ldapdump
arguments = "${buildout:directory}/var/ldapdump/config.yaml"

[mail-sender]
recipe = zc.recipe.egg
eggs = repoze.sendmail
scripts = qp=mail-sender
